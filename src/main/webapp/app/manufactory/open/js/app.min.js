'use strict';var COMPILED = false;
var goog = goog || {};
goog.global = this;
goog.global.CLOSURE_UNCOMPILED_DEFINES;
goog.global.CLOSURE_DEFINES;
goog.isDef = function(val) {
  return val !== void 0;
};
goog.exportPath_ = function(name, opt_object, opt_objectToExportTo) {
  var parts = name.split(".");
  var cur = opt_objectToExportTo || goog.global;
  if (!(parts[0] in cur) && cur.execScript) {
    cur.execScript("var " + parts[0]);
  }
  for (var part;parts.length && (part = parts.shift());) {
    if (!parts.length && goog.isDef(opt_object)) {
      cur[part] = opt_object;
    } else {
      if (cur[part]) {
        cur = cur[part];
      } else {
        cur = cur[part] = {};
      }
    }
  }
};
goog.define = function(name, defaultValue) {
  var value = defaultValue;
  if (!COMPILED) {
    if (goog.global.CLOSURE_UNCOMPILED_DEFINES && Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES, name)) {
      value = goog.global.CLOSURE_UNCOMPILED_DEFINES[name];
    } else {
      if (goog.global.CLOSURE_DEFINES && Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES, name)) {
        value = goog.global.CLOSURE_DEFINES[name];
      }
    }
  }
  goog.exportPath_(name, value);
};
goog.DEBUG = true;
goog.define("goog.LOCALE", "en");
goog.define("goog.TRUSTED_SITE", true);
goog.define("goog.STRICT_MODE_COMPATIBLE", false);
goog.provide = function(name) {
  if (!COMPILED) {
    if (goog.isProvided_(name)) {
      throw Error('Namespace "' + name + '" already declared.');
    }
    delete goog.implicitNamespaces_[name];
    var namespace = name;
    while (namespace = namespace.substring(0, namespace.lastIndexOf("."))) {
      if (goog.getObjectByName(namespace)) {
        break;
      }
      goog.implicitNamespaces_[namespace] = true;
    }
  }
  goog.exportPath_(name);
};
goog.setTestOnly = function(opt_message) {
  if (COMPILED && !goog.DEBUG) {
    opt_message = opt_message || "";
    throw Error("Importing test-only code into non-debug environment" + opt_message ? ": " + opt_message : ".");
  }
};
goog.forwardDeclare = function(name) {
};
if (!COMPILED) {
  goog.isProvided_ = function(name) {
    return !goog.implicitNamespaces_[name] && goog.isDefAndNotNull(goog.getObjectByName(name));
  };
  goog.implicitNamespaces_ = {};
}
goog.getObjectByName = function(name, opt_obj) {
  var parts = name.split(".");
  var cur = opt_obj || goog.global;
  for (var part;part = parts.shift();) {
    if (goog.isDefAndNotNull(cur[part])) {
      cur = cur[part];
    } else {
      return null;
    }
  }
  return cur;
};
goog.globalize = function(obj, opt_global) {
  var global = opt_global || goog.global;
  for (var x in obj) {
    global[x] = obj[x];
  }
};
goog.addDependency = function(relPath, provides, requires) {
  if (goog.DEPENDENCIES_ENABLED) {
    var provide, require;
    var path = relPath.replace(/\\/g, "/");
    var deps = goog.dependencies_;
    for (var i = 0;provide = provides[i];i++) {
      deps.nameToPath[provide] = path;
      if (!(path in deps.pathToNames)) {
        deps.pathToNames[path] = {};
      }
      deps.pathToNames[path][provide] = true;
    }
    for (var j = 0;require = requires[j];j++) {
      if (!(path in deps.requires)) {
        deps.requires[path] = {};
      }
      deps.requires[path][require] = true;
    }
  }
};
goog.define("goog.ENABLE_DEBUG_LOADER", true);
goog.require = function(name) {
  if (!COMPILED) {
    if (goog.isProvided_(name)) {
      return;
    }
    if (goog.ENABLE_DEBUG_LOADER) {
      var path = goog.getPathFromDeps_(name);
      if (path) {
        goog.included_[path] = true;
        goog.writeScripts_();
        return;
      }
    }
    var errorMessage = "goog.require could not find: " + name;
    if (goog.global.console) {
      goog.global.console["error"](errorMessage);
    }
    throw Error(errorMessage);
  }
};
goog.basePath = "";
goog.global.CLOSURE_BASE_PATH;
goog.global.CLOSURE_NO_DEPS;
goog.global.CLOSURE_IMPORT_SCRIPT;
goog.nullFunction = function() {
};
goog.identityFunction = function(opt_returnValue, var_args) {
  return opt_returnValue;
};
goog.abstractMethod = function() {
  throw Error("unimplemented abstract method");
};
goog.addSingletonGetter = function(ctor) {
  ctor.getInstance = function() {
    if (ctor.instance_) {
      return ctor.instance_;
    }
    if (goog.DEBUG) {
      goog.instantiatedSingletons_[goog.instantiatedSingletons_.length] = ctor;
    }
    return ctor.instance_ = new ctor;
  };
};
goog.instantiatedSingletons_ = [];
goog.DEPENDENCIES_ENABLED = !COMPILED && goog.ENABLE_DEBUG_LOADER;
if (goog.DEPENDENCIES_ENABLED) {
  goog.included_ = {};
  goog.dependencies_ = {pathToNames:{}, nameToPath:{}, requires:{}, visited:{}, written:{}};
  goog.inHtmlDocument_ = function() {
    var doc = goog.global.document;
    return typeof doc != "undefined" && "write" in doc;
  };
  goog.findBasePath_ = function() {
    if (goog.global.CLOSURE_BASE_PATH) {
      goog.basePath = goog.global.CLOSURE_BASE_PATH;
      return;
    } else {
      if (!goog.inHtmlDocument_()) {
        return;
      }
    }
    var doc = goog.global.document;
    var scripts = doc.getElementsByTagName("script");
    for (var i = scripts.length - 1;i >= 0;--i) {
      var src = scripts[i].src;
      var qmark = src.lastIndexOf("?");
      var l = qmark == -1 ? src.length : qmark;
      if (src.substr(l - 7, 7) == "base.js") {
        goog.basePath = src.substr(0, l - 7);
        return;
      }
    }
  };
  goog.importScript_ = function(src) {
    var importScript = goog.global.CLOSURE_IMPORT_SCRIPT || goog.writeScriptTag_;
    if (!goog.dependencies_.written[src] && importScript(src)) {
      goog.dependencies_.written[src] = true;
    }
  };
  goog.writeScriptTag_ = function(src) {
    if (goog.inHtmlDocument_()) {
      var doc = goog.global.document;
      if (doc.readyState == "complete") {
        var isDeps = /\bdeps.js$/.test(src);
        if (isDeps) {
          return false;
        } else {
          throw Error('Cannot write "' + src + '" after document load');
        }
      }
      doc.write('<script type="text/javascript" src="' + src + '"></' + "script>");
      return true;
    } else {
      return false;
    }
  };
  goog.writeScripts_ = function() {
    var scripts = [];
    var seenScript = {};
    var deps = goog.dependencies_;
    function visitNode(path) {
      if (path in deps.written) {
        return;
      }
      if (path in deps.visited) {
        if (!(path in seenScript)) {
          seenScript[path] = true;
          scripts.push(path);
        }
        return;
      }
      deps.visited[path] = true;
      if (path in deps.requires) {
        for (var requireName in deps.requires[path]) {
          if (!goog.isProvided_(requireName)) {
            if (requireName in deps.nameToPath) {
              visitNode(deps.nameToPath[requireName]);
            } else {
              throw Error("Undefined nameToPath for " + requireName);
            }
          }
        }
      }
      if (!(path in seenScript)) {
        seenScript[path] = true;
        scripts.push(path);
      }
    }
    for (var path in goog.included_) {
      if (!deps.written[path]) {
        visitNode(path);
      }
    }
    for (var i = 0;i < scripts.length;i++) {
      if (scripts[i]) {
        goog.importScript_(goog.basePath + scripts[i]);
      } else {
        throw Error("Undefined script input");
      }
    }
  };
  goog.getPathFromDeps_ = function(rule) {
    if (rule in goog.dependencies_.nameToPath) {
      return goog.dependencies_.nameToPath[rule];
    } else {
      return null;
    }
  };
  goog.findBasePath_();
  if (!goog.global.CLOSURE_NO_DEPS) {
    goog.importScript_(goog.basePath + "deps.js");
  }
}
goog.typeOf = function(value) {
  var s = typeof value;
  if (s == "object") {
    if (value) {
      if (value instanceof Array) {
        return "array";
      } else {
        if (value instanceof Object) {
          return s;
        }
      }
      var className = Object.prototype.toString.call((value));
      if (className == "[object Window]") {
        return "object";
      }
      if (className == "[object Array]" || typeof value.length == "number" && typeof value.splice != "undefined" && typeof value.propertyIsEnumerable != "undefined" && !value.propertyIsEnumerable("splice")) {
        return "array";
      }
      if (className == "[object Function]" || typeof value.call != "undefined" && typeof value.propertyIsEnumerable != "undefined" && !value.propertyIsEnumerable("call")) {
        return "function";
      }
    } else {
      return "null";
    }
  } else {
    if (s == "function" && typeof value.call == "undefined") {
      return "object";
    }
  }
  return s;
};
goog.isNull = function(val) {
  return val === null;
};
goog.isDefAndNotNull = function(val) {
  return val != null;
};
goog.isArray = function(val) {
  return goog.typeOf(val) == "array";
};
goog.isArrayLike = function(val) {
  var type = goog.typeOf(val);
  return type == "array" || type == "object" && typeof val.length == "number";
};
goog.isDateLike = function(val) {
  return goog.isObject(val) && typeof val.getFullYear == "function";
};
goog.isString = function(val) {
  return typeof val == "string";
};
goog.isBoolean = function(val) {
  return typeof val == "boolean";
};
goog.isNumber = function(val) {
  return typeof val == "number";
};
goog.isFunction = function(val) {
  return goog.typeOf(val) == "function";
};
goog.isObject = function(val) {
  var type = typeof val;
  return type == "object" && val != null || type == "function";
};
goog.getUid = function(obj) {
  return obj[goog.UID_PROPERTY_] || (obj[goog.UID_PROPERTY_] = ++goog.uidCounter_);
};
goog.hasUid = function(obj) {
  return !!obj[goog.UID_PROPERTY_];
};
goog.removeUid = function(obj) {
  if ("removeAttribute" in obj) {
    obj.removeAttribute(goog.UID_PROPERTY_);
  }
  try {
    delete obj[goog.UID_PROPERTY_];
  } catch (ex) {
  }
};
goog.UID_PROPERTY_ = "closure_uid_" + (Math.random() * 1E9 >>> 0);
goog.uidCounter_ = 0;
goog.getHashCode = goog.getUid;
goog.removeHashCode = goog.removeUid;
goog.cloneObject = function(obj) {
  var type = goog.typeOf(obj);
  if (type == "object" || type == "array") {
    if (obj.clone) {
      return obj.clone();
    }
    var clone = type == "array" ? [] : {};
    for (var key in obj) {
      clone[key] = goog.cloneObject(obj[key]);
    }
    return clone;
  }
  return obj;
};
goog.bindNative_ = function(fn, selfObj, var_args) {
  return (fn.call.apply(fn.bind, arguments));
};
goog.bindJs_ = function(fn, selfObj, var_args) {
  if (!fn) {
    throw new Error;
  }
  if (arguments.length > 2) {
    var boundArgs = Array.prototype.slice.call(arguments, 2);
    return function() {
      var newArgs = Array.prototype.slice.call(arguments);
      Array.prototype.unshift.apply(newArgs, boundArgs);
      return fn.apply(selfObj, newArgs);
    };
  } else {
    return function() {
      return fn.apply(selfObj, arguments);
    };
  }
};
goog.bind = function(fn, selfObj, var_args) {
  if (Function.prototype.bind && Function.prototype.bind.toString().indexOf("native code") != -1) {
    goog.bind = goog.bindNative_;
  } else {
    goog.bind = goog.bindJs_;
  }
  return goog.bind.apply(null, arguments);
};
goog.partial = function(fn, var_args) {
  var args = Array.prototype.slice.call(arguments, 1);
  return function() {
    var newArgs = args.slice();
    newArgs.push.apply(newArgs, arguments);
    return fn.apply(this, newArgs);
  };
};
goog.mixin = function(target, source) {
  for (var x in source) {
    target[x] = source[x];
  }
};
goog.now = goog.TRUSTED_SITE && Date.now || function() {
  return +new Date;
};
goog.globalEval = function(script) {
  if (goog.global.execScript) {
    goog.global.execScript(script, "JavaScript");
  } else {
    if (goog.global.eval) {
      if (goog.evalWorksForGlobals_ == null) {
        goog.global.eval("var _et_ = 1;");
        if (typeof goog.global["_et_"] != "undefined") {
          delete goog.global["_et_"];
          goog.evalWorksForGlobals_ = true;
        } else {
          goog.evalWorksForGlobals_ = false;
        }
      }
      if (goog.evalWorksForGlobals_) {
        goog.global.eval(script);
      } else {
        var doc = goog.global.document;
        var scriptElt = doc.createElement("script");
        scriptElt.type = "text/javascript";
        scriptElt.defer = false;
        scriptElt.appendChild(doc.createTextNode(script));
        doc.body.appendChild(scriptElt);
        doc.body.removeChild(scriptElt);
      }
    } else {
      throw Error("goog.globalEval not available");
    }
  }
};
goog.evalWorksForGlobals_ = null;
goog.cssNameMapping_;
goog.cssNameMappingStyle_;
goog.getCssName = function(className, opt_modifier) {
  var getMapping = function(cssName) {
    return goog.cssNameMapping_[cssName] || cssName;
  };
  var renameByParts = function(cssName) {
    var parts = cssName.split("-");
    var mapped = [];
    for (var i = 0;i < parts.length;i++) {
      mapped.push(getMapping(parts[i]));
    }
    return mapped.join("-");
  };
  var rename;
  if (goog.cssNameMapping_) {
    rename = goog.cssNameMappingStyle_ == "BY_WHOLE" ? getMapping : renameByParts;
  } else {
    rename = function(a) {
      return a;
    };
  }
  if (opt_modifier) {
    return className + "-" + rename(opt_modifier);
  } else {
    return rename(className);
  }
};
goog.setCssNameMapping = function(mapping, opt_style) {
  goog.cssNameMapping_ = mapping;
  goog.cssNameMappingStyle_ = opt_style;
};
goog.global.CLOSURE_CSS_NAME_MAPPING;
if (!COMPILED && goog.global.CLOSURE_CSS_NAME_MAPPING) {
  goog.cssNameMapping_ = goog.global.CLOSURE_CSS_NAME_MAPPING;
}
goog.getMsg = function(str, opt_values) {
  var values = opt_values || {};
  for (var key in values) {
    var value = ("" + values[key]).replace(/\$/g, "$$$$");
    str = str.replace(new RegExp("\\{\\$" + key + "\\}", "gi"), value);
  }
  return str;
};
goog.getMsgWithFallback = function(a, b) {
  return a;
};
goog.exportSymbol = function(publicPath, object, opt_objectToExportTo) {
  goog.exportPath_(publicPath, object, opt_objectToExportTo);
};
goog.exportProperty = function(object, publicName, symbol) {
  object[publicName] = symbol;
};
goog.inherits = function(childCtor, parentCtor) {
  function tempCtor() {
  }
  tempCtor.prototype = parentCtor.prototype;
  childCtor.superClass_ = parentCtor.prototype;
  childCtor.prototype = new tempCtor;
  childCtor.prototype.constructor = childCtor;
  childCtor.base = function(me, methodName, var_args) {
    var args = Array.prototype.slice.call(arguments, 2);
    return parentCtor.prototype[methodName].apply(me, args);
  };
};
goog.base = function(me, opt_methodName, var_args) {
  var caller = arguments.callee.caller;
  if (goog.STRICT_MODE_COMPATIBLE || goog.DEBUG && !caller) {
    throw Error("arguments.caller not defined.  goog.base() cannot be used " + "with strict mode code. See " + "http://www.ecma-international.org/ecma-262/5.1/#sec-C");
  }
  if (caller.superClass_) {
    return caller.superClass_.constructor.apply(me, Array.prototype.slice.call(arguments, 1));
  }
  var args = Array.prototype.slice.call(arguments, 2);
  var foundCaller = false;
  for (var ctor = me.constructor;ctor;ctor = ctor.superClass_ && ctor.superClass_.constructor) {
    if (ctor.prototype[opt_methodName] === caller) {
      foundCaller = true;
    } else {
      if (foundCaller) {
        return ctor.prototype[opt_methodName].apply(me, args);
      }
    }
  }
  if (me[opt_methodName] === caller) {
    return me.constructor.prototype[opt_methodName].apply(me, args);
  } else {
    throw Error("goog.base called from a method of one name " + "to a method of a different name");
  }
};
goog.scope = function(fn) {
  fn.call(goog.global);
};
goog.provide("jxmnfopn.panel.forgot_password.Ctrl");
jxmnfopn.panel.forgot_password.Ctrl.$inject = ["$window", "basic", "$timeout", "md5"];
jxmnfopn.panel.forgot_password.Ctrl = function($window, basic, $timeout, md5) {
  var ctrl = this;
  ctrl.alert_msg = undefined;
  ctrl.alert_type = undefined;
  ctrl.forgotPasswordInf = {login_name:"", certification_code:"", password:""};
  ctrl.getVerCodeInf = {user_name:"", user_role:"manufactory", used_for:1};
  ctrl.password = undefined;
  ctrl.confirm_password = undefined;
  ctrl.verificationCode = function() {
    ctrl.setVerBtnDisabled("verCodeBtn", true);
    ctrl.getVerCodeInf.user_name = ctrl.forgotPasswordInf.login_name;
    console.log(ctrl.getVerCodeInf);
    if (!validParam(ctrl.getVerCodeInf.user_name)) {
      return;
    }
    return basic.verificationCode(ctrl.getVerCodeInf).then(function(res) {
      console.log(res);
      if (validParam(res.error_message) && res.error_message.faultcode == 1001004) {
        ctrl.addAlert("danger", res.error_message.faultstring);
        ctrl.setVerBtnDisabled("verCodeBtn", false);
        return;
      } else {
        if (validParam(res.success_message)) {
          $timeout(function() {
            ctrl.setVerBtnDisabled("verCodeBtn", false);
          }, 1E3 * 60);
          ctrl.addAlert("info", "\u9a8c\u8bc1\u7801\u53d1\u9001\u6210\u529f\uff0c\u8bf7\u67e5\u6536\u3002");
        }
      }
    }, function(error) {
      ctrl.addAlert("danger", error.error_message.faultstring);
      ctrl.setVerBtnDisabled("verCodeBtn", false);
    });
  };
  ctrl.setVerBtnDisabled = function(name, status) {
    var btn = document.getElementById(name);
    btn.disabled = status;
  };
  ctrl.forgotPassword = function() {
    if (!validParam(ctrl.forgotPasswordInf.login_name)) {
      ctrl.addAlert("warning", "\u767b\u5f55\u540d\u4e0d\u80fd\u4e3a\u7a7a\uff01");
      return;
    }
    if (!validParam(ctrl.forgotPasswordInf.certification_code)) {
      ctrl.addAlert("warning", "\u9a8c\u8bc1\u7801\u4e0d\u80fd\u4e3a\u7a7a\uff01");
      return;
    }
    if (!validParam(ctrl.password)) {
      ctrl.addAlert("warning", "\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a\uff01");
      return;
    }
    if (!validParam(ctrl.confirm_password)) {
      ctrl.addAlert("warning", "\u786e\u8ba4\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a\uff01");
      return;
    }
    if (ctrl.password != ctrl.confirm_password) {
      ctrl.addAlert("warning", "\u5bc6\u7801\u4e0d\u4e00\u81f4");
      return;
    }
    ctrl.setVerBtnDisabled("forgotBtn", true);
    ctrl.forgotPasswordInf.password = md5.createHash(ctrl.password);
    basic.resetPassword(ctrl.forgotPasswordInf).then(function(res) {
      if (res.success_message == undefined) {
        if (res.error_message.faultcode == 1001002) {
          ctrl.addAlert("warning", "\u9a8c\u8bc1\u7801\u9519\u8bef");
        } else {
          ctrl.addAlert("danger", res.error_message.faultstring);
        }
        ctrl.setVerBtnDisabled("forgotBtn", false);
        return;
      }
      ctrl.addAlert("success", "\u5bc6\u7801\u91cd\u7f6e\u6210\u529f\u3002");
    }, function(error) {
      ctrl.addAlert("danger", error.error_message.faultstring);
      ctrl.setVerBtnDisabled("forgotBtn", false);
    });
  };
  ctrl.checkPassword = function() {
    var node = document.getElementById("password_group");
    var re_node = document.getElementById("password_repeat_group");
    if (ctrl.password != null) {
      node.className = "form-group col-md-offset-1 col-md-9 has-success";
    } else {
      node.className = "form-group col-md-offset-1 col-md-9 has-error";
    }
    if (ctrl.confirm_password != ctrl.password) {
      re_node.className = "form-group col-md-offset-1 col-md-9 has-error";
    } else {
      re_node.className = "form-group col-md-offset-1 col-md-9 has-success";
    }
  };
  ctrl.addAlert = function(type, msg) {
    ctrl.alert_type = type;
    ctrl.alert_msg = msg;
    $timeout(function() {
      ctrl.closeAlert();
    }, 3E3);
  };
  ctrl.closeAlert = function() {
    ctrl.alert_type = undefined;
    ctrl.alert_msg = undefined;
  };
  ctrl.checkPasswordRepeat = function() {
    var node = document.getElementById("password_repeat_group");
    if (ctrl.confirm_password != null) {
      node.className = "form-group col-md-offset-1 col-md-9 has-success";
    } else {
      node.className = "form-group col-md-offset-1 col-md-9 has-error";
    }
    if (ctrl.confirm_password != ctrl.password) {
      node.className = "form-group col-md-offset-1 col-md-9 has-error";
    }
  };
  this.$window = $window;
  function validParam(param) {
    if (param != undefined && param != null && param != "") {
      return true;
    }
    return false;
  }
};
jxmnfopn.panel.forgot_password.Ctrl.prototype.say = function() {
  var $window = this.$window;
  $window.alert(this.text);
};
goog.provide("jxmnfopn.panel.forgot_password.module");
goog.require("jxmnfopn.panel.forgot_password.Ctrl");
jxmnfopn.panel.forgot_password.module = angular.module("panel.forgot_password", ["ui.router", "angular-md5"]);
jxmnfopn.panel.forgot_password.module.configuration = function($stateProvider) {
  $stateProvider.state("panel.forgot_password", {url:"/forgot_password", templateUrl:"states/panel/forgot_password/forgot_password.html", controller:"ForgotPasswordCtrl as forgotPassword"});
};
jxmnfopn.panel.forgot_password.module.config(jxmnfopn.panel.forgot_password.module.configuration).controller("ForgotPasswordCtrl", jxmnfopn.panel.forgot_password.Ctrl);
goog.provide("jxmnfopn.panel.Ctrl");
jxmnfopn.panel.Ctrl = function() {
  this.label = "some label from panel controller";
};
jxmnfopn.panel.Ctrl.prototype.log = function(text) {
  console.log(text);
};
goog.provide("jxmnfopn.panel.sign_in.Ctrl");
jxmnfopn.panel.sign_in.Ctrl.$inject = ["$window", "basic", "$rootScope", "md5", "$timeout"];
jxmnfopn.panel.sign_in.Ctrl = function($window, basic, $rootScope, md5, $timeout) {
  var ctrl = this;
  ctrl.show_err_flag = false;
  ctrl.errmsg = "";
  ctrl.userLoginInfo = {login_name:"", password:"", captcha:""};
  ctrl.password = "";
  ctrl.signIn = function() {
    if (ctrl.userLoginInfo.login_name == undefined || ctrl.userLoginInfo.login_name == "") {
      return;
    }
    if (ctrl.password == undefined || ctrl.password == "") {
      return;
    }
    if (ctrl.userLoginInfo.captcha == undefined || ctrl.userLoginInfo.captcha == "") {
      return;
    }
    ctrl.userLoginInfo.password = md5.createHash(ctrl.password);
    basic.signIn(ctrl.userLoginInfo).then(function(res) {
      if (res.success_message == undefined) {
        if (res.error_message.faultcode == 1001022) {
          ctrl.addAlert("warning", "\u9a8c\u8bc1\u7801\u9519\u8bef");
        } else {
          if (res.error_message.faultcode == 1002036) {
            ctrl.captcha_click();
            ctrl.addAlert("warning", "\u8be5\u7528\u6237\u5c1a\u672a\u6fc0\u6d3b,\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458");
          } else {
            ctrl.captcha_click();
            ctrl.addAlert("danger", "\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef");
          }
        }
        return;
      }
      $window.location.href = "/manufactory/secured";
    }, function(error) {
      ctrl.addAlert("danger", "\u7cfb\u7edf\u9519\u8bef");
    });
  };
  ctrl.captcha_url = $rootScope.endPoint + "/common/sign_in_captcha?d=" + (new Date).getTime();
  ctrl.captcha_click = function() {
    ctrl.userLoginInfo.captcha = "";
    var time = (new Date).getTime();
    ctrl.captcha_url = $rootScope.endPoint + "/common/sign_in_captcha?d=" + time;
  };
  ctrl.alert_type = undefined;
  ctrl.alert_msg = undefined;
  ctrl.addAlert = function(type, msg) {
    ctrl.alert_type = type;
    ctrl.alert_msg = msg;
    $timeout(function() {
      ctrl.closeAlert();
    }, 3E3);
  };
  ctrl.closeAlert = function() {
    ctrl.alert_type = undefined;
    ctrl.alert_msg = undefined;
  };
};
goog.provide("jxmnfopn.panel.sign_in.module");
goog.require("jxmnfopn.panel.sign_in.Ctrl");
jxmnfopn.panel.sign_in.module = angular.module("panel.sign_in", ["ui.router", "angular-md5"]);
jxmnfopn.panel.sign_in.module.configuration = function($stateProvider) {
  $stateProvider.state("panel.sign_in", {url:"/sign_in", templateUrl:"states/panel/sign_in/sign_in.html", controller:"SignInCtrl as signIn"});
};
jxmnfopn.panel.sign_in.module.config(jxmnfopn.panel.sign_in.module.configuration).controller("SignInCtrl", jxmnfopn.panel.sign_in.Ctrl);
goog.provide("jxmnfopn.panel.module");
goog.require("jxmnfopn.panel.sign_in.module");
goog.require("jxmnfopn.panel.forgot_password.module");
goog.require("jxmnfopn.panel.Ctrl");
jxmnfopn.panel.module = angular.module("panel", ["ui.router", jxmnfopn.panel.sign_in.module.name, jxmnfopn.panel.forgot_password.module.name]);
jxmnfopn.panel.module.configuration = function($stateProvider) {
  $stateProvider.state("panel", {url:"/panel", templateUrl:"states/panel/panel.html", controller:"PanelCtrl as panel"});
};
jxmnfopn.panel.module.config(jxmnfopn.panel.module.configuration).controller("PanelCtrl", jxmnfopn.panel.Ctrl);
goog.provide("jxmnfopn.sign_up.Ctrl");
jxmnfopn.sign_up.Ctrl.$inject = ["$q", "$rootScope", "$timeout ", "$window", "constants", "basic", "md5"];
jxmnfopn.sign_up.Ctrl = function($q, $rootScope, $scope, $timeout, $window, constants, basic, md5) {
  var ctrl = this;
  this.anything = ["x", "y", "z"];
  ctrl.company_departments = constants.gotCOMPANYDEPARTMENTS();
  ctrl.company_department = {selected:undefined};
  ctrl.device_types = constants.gotDEVICETYPES();
  ctrl.device_types_selected = [];
  ctrl.company_members_list = constants.gotCOMPANYMEMBERS();
  ctrl.company_members = {selected:undefined};
  ctrl.company_industry_list = constants.gotCOMPANYINDUSTRIES();
  ctrl.company_industry = {selected:undefined};
  ctrl.company_nature_list = constants.gotCOMPANYNATURES();
  ctrl.company_nature = {selected:undefined};
  ctrl.province_list = constants.gotPROVINCES();
  ctrl.province = {selected:undefined};
  ctrl.city_list = constants.gotCITIES();
  ctrl.city_select_list = [];
  ctrl.city = {selected:undefined};
  ctrl.county_list = constants.gotZONES();
  ctrl.county_select_list = [];
  ctrl.county = {selected:undefined};
  ctrl.signUpInf = {login_name:"", password:"", contactor:"", department:"", telephone:"", phone:"", email:"", full_name:"", code:"", profile:"", logo_url:"", province_id:"", city_id:"", zone_id:"", address:"", device_type_ids:[], members:"", industry:"", nature:"", captcha:"", business_licence:"", internal_certificate:"", local_certificate:"", code_certificate:""};
  ctrl.password = "";
  ctrl.confirm_password = "";
  activate();
  function activate() {
  }
  function updateCityList(province_id) {
    ctrl.city_select_list = [];
    ctrl.city.selected = undefined;
    ctrl.county.selected = undefined;
    for (var i = 0;i < ctrl.city_list.length;i++) {
      if (ctrl.city_list[i].province_id == province_id) {
        ctrl.city_select_list.push(ctrl.city_list[i]);
      }
    }
  }
  function updateCountyList(city_id) {
    ctrl.county_select_list = [];
    ctrl.county.selected = undefined;
    for (var i = 0;i < ctrl.county_list.length;i++) {
      if (ctrl.county_list[i].city_id == city_id) {
        ctrl.county_select_list.push(ctrl.county_list[i]);
      }
    }
  }
  ctrl.changeProvince = function() {
    ctrl.checkDistrict();
    updateCityList(ctrl.province.selected.province_id);
  };
  ctrl.changeCity = function() {
    ctrl.checkDistrict();
    updateCountyList(ctrl.city.selected.city_id);
  };
  ctrl.changeCounty = function() {
    ctrl.checkDistrict();
  };
  ctrl.captcha_url = $rootScope.endPoint + "/common/sign_in_captcha?d=" + (new Date).getTime();
  ctrl.captcha_click = function() {
    var time = (new Date).getTime();
    ctrl.captcha_url = $rootScope.endPoint + "/common/sign_in_captcha?d=" + time;
  };
  ctrl.logoUrl = undefined;
  ctrl.businessLicence = undefined;
  ctrl.internalCertificate = undefined;
  ctrl.localCertificate = undefined;
  ctrl.codeCertificate = undefined;
  var uploadLogoUrl = function() {
    if (validParam(ctrl.logoUrl)) {
      return basic.fileUpload(ctrl.logoUrl).then(function(res) {
        ctrl.signUpInf.logo_url = res.success_message[0];
        console.log("\u4e0a\u4f20\u516c\u53f8logol\u6210\u529f\uff01");
      }, function(error) {
        alert(error);
      });
    }
  };
  var uploadbusinessLicence = function() {
    if (validParam(ctrl.businessLicence)) {
      return basic.fileUpload(ctrl.businessLicence).then(function(res) {
        ctrl.signUpInf.business_licence = res.success_message[0];
        console.log("\u4e0a\u4f20\u5de5\u5546\u8425\u4e1a\u6267\u7167\u6210\u529f\uff01");
      }, function(error) {
        alert(error);
      });
    }
  };
  var uploadInternalCertificate = function() {
    if (validParam(ctrl.internalCertificate)) {
      return basic.fileUpload(ctrl.internalCertificate).then(function(res) {
        ctrl.signUpInf.internal_certificate = res.success_message[0];
        console.log("\u4e0a\u4f20\u7ec4\u7ec7\u673a\u6784\u4ee3\u7801\u8bc1\u6210\u529f\uff01");
      }, function(error) {
        alert(error);
      });
    }
  };
  var uploadLocalCertificate = function() {
    if (validParam(ctrl.localCertificate)) {
      return basic.fileUpload(ctrl.localCertificate).then(function(res) {
        ctrl.signUpInf.local_certificate = res.success_message[0];
        console.log("\u4e0a\u4f20\u7a0e\u52a1\u767b\u8bb0\u8bc1(\u56fd)\u6210\u529f\uff01");
      }, function(error) {
        alert(error);
      });
    }
  };
  var uploadCodeCertificate = function() {
    if (validParam(ctrl.codeCertificate)) {
      return basic.fileUpload(ctrl.codeCertificate).then(function(res) {
        ctrl.signUpInf.code_certificate = res.success_message[0];
        console.log("\u4e0a\u4f20\u7a0e\u52a1\u767b\u8bb0\u8bc1(\u5730)\u6210\u529f\uff01");
      }, function(error) {
        alert(error);
      });
    }
  };
  ctrl.signUp = function() {
    if (!validParam(ctrl.signUpInf.login_name)) {
      $scope.addAlert("warning", "\u7528\u6237\u540d\u5fc5\u586b");
      return;
    }
    if (!validParam(ctrl.password)) {
      $scope.addAlert("warning", "\u5bc6\u7801\u5fc5\u586b");
      return;
    }
    if (!validParam(ctrl.confirm_password)) {
      $scope.addAlert("warning", "\u786e\u8ba4\u5bc6\u7801\u5fc5\u586b");
      return;
    }
    if (!validParam(ctrl.signUpInf.contactor)) {
      $scope.addAlert("warning", "\u59d3\u540d\u5fc5\u586b");
      return;
    }
    if (!validParam(ctrl.company_department.selected)) {
      $scope.addAlert("warning", "\u516c\u53f8\u90e8\u95e8\u5fc5\u586b");
      return;
    }
    if (!validParam(ctrl.device_types_selected)) {
      $scope.addAlert("warning", "\u8bbe\u5907\u7c7b\u578b\u5fc5\u586b");
      return;
    }
    if (!validParam(ctrl.signUpInf.telephone)) {
      $scope.addAlert("warning", "\u56fa\u5b9a\u7535\u8bdd\u5fc5\u586b");
      return;
    }
    if (!validParam(ctrl.signUpInf.phone)) {
      $scope.addAlert("warning", "\u79fb\u52a8\u7535\u8bdd\u5fc5\u586b");
      return;
    }
    if (!validParam(ctrl.signUpInf.full_name)) {
      $scope.addAlert("warning", "\u516c\u53f8\u540d\u79f0\u5fc5\u586b");
      return;
    }
    if (!validParam(ctrl.signUpInf.code)) {
      $scope.addAlert("warning", "\u516c\u53f8\u7f16\u7801\u5fc5\u586b");
      return;
    }
    if (!validParam(ctrl.logoUrl)) {
      $scope.addAlert("warning", "\u516c\u53f8\u5546\u6807\u5fc5\u586b");
      return;
    }
    if (!validParam(ctrl.province.selected)) {
      $scope.addAlert("warning", "\u7701\u5fc5\u586b");
      return;
    }
    if (!validParam(ctrl.city.selected)) {
      $scope.addAlert("warning", "\u5e02\u5fc5\u586b");
      return;
    }
    if (!validParam(ctrl.county.selected)) {
      $scope.addAlert("warning", "\u53bf/\u533a\u540d\u5fc5\u586b");
      return;
    }
    if (!validParam(ctrl.signUpInf.address)) {
      $scope.addAlert("warning", "\u8be6\u7ec6\u5730\u5740\u5fc5\u586b");
      return;
    }
    if (!validParam(ctrl.company_members.selected)) {
      $scope.addAlert("warning", "\u4f01\u4e1a\u4eba\u6570\u5fc5\u586b");
      return;
    }
    if (!validParam(ctrl.company_industry.selected)) {
      $scope.addAlert("warning", "\u516c\u53f8\u884c\u4e1a\u5fc5\u586b");
      return;
    }
    if (!validParam(ctrl.company_nature.selected)) {
      $scope.addAlert("warning", "\u516c\u53f8\u6027\u8d28\u5fc5\u586b");
      return;
    }
    if (!validParam(ctrl.businessLicence)) {
      $scope.addAlert("warning", "\u5de5\u5546\u8425\u4e1a\u6267\u7167\u5fc5\u586b");
      return;
    }
    if (!validParam(ctrl.signUpInf.captcha)) {
      $scope.addAlert("warning", "\u9a8c\u8bc1\u7801\u5fc5\u586b");
      return;
    }
    if (!validPic(ctrl.logoUrl, "png|jpg|jpeg|gif")) {
      $scope.addAlert("warning", "\u516c\u53f8\u5546\u6807\u8bf7\u4e0a\u4f20png\u3001jpg\u7c7b\u578b\u7684\u6587\u4ef6\uff01");
      return;
    }
    if (!validPic(ctrl.businessLicence, "png|jpg|jpeg|gif")) {
      $scope.addAlert("warning", "\u5de5\u5546\u8425\u4e1a\u6267\u7167\u8bf7\u4e0a\u4f20png\u3001jpg\u7c7b\u578b\u7684\u6587\u4ef6\uff01");
      return;
    }
    if (validParam(ctrl.internalCertificate) && !validPic(ctrl.internalCertificate, "png|jpg|jpeg|gif")) {
      $scope.addAlert("warning", "\u7ec4\u7ec7\u673a\u6784\u4ee3\u7801\u8bc1\u8bf7\u4e0a\u4f20png\u3001jpg\u7c7b\u578b\u7684\u6587\u4ef6\uff01");
      return;
    }
    if (validParam(ctrl.localCertificate) && !validPic(ctrl.localCertificate, "png|jpg|jpeg|gif")) {
      $scope.addAlert("warning", "\u7a0e\u52a1\u767b\u8bb0\u8bc1(\u56fd)\u8bf7\u4e0a\u4f20png\u3001jpg\u7c7b\u578b\u7684\u6587\u4ef6\uff01");
      return;
    }
    if (validParam(ctrl.codeCertificate) && !validPic(ctrl.codeCertificate, "png|jpg|jpeg|gif")) {
      $scope.addAlert("warning", "\u7a0e\u52a1\u767b\u8bb0\u8bc1(\u5730)\u8bf7\u4e0a\u4f20png\u3001jpg\u7c7b\u578b\u7684\u6587\u4ef6\uff01");
      return;
    }
    if (!isTelephone(ctrl.signUpInf.telephone)) {
      $scope.addAlert("warning", "\u56fa\u5b9a\u7535\u8bdd\u65e0\u6548");
      return;
    }
    if (!isMobile(ctrl.signUpInf.phone)) {
      $scope.addAlert("warning", "\u79fb\u52a8\u7535\u8bdd\u65e0\u6548");
      return;
    }
    ctrl.signUpInf.device_type_ids = ctrl.device_types_selected;
    ctrl.signUpInf.department = ctrl.company_department.selected.department_id;
    ctrl.signUpInf.members = ctrl.company_members.selected.member_id;
    ctrl.signUpInf.industry = ctrl.company_industry.selected.industry_id;
    ctrl.signUpInf.nature = ctrl.company_nature.selected.nature_id;
    ctrl.signUpInf.password = md5.createHash(ctrl.password);
    ctrl.signUpInf.province_id = ctrl.province.selected.province_id;
    ctrl.signUpInf.city_id = ctrl.city.selected.city_id;
    ctrl.signUpInf.zone_id = ctrl.county.selected.zone_id;
    if (!validParam(ctrl.signUpInf.login_name)) {
      $scope.addAlert("warning", "\u7528\u6237\u540d\u5fc5\u586b");
      return;
    }
    var promises = [uploadLogoUrl(), uploadbusinessLicence(), uploadInternalCertificate(), uploadLocalCertificate(), uploadCodeCertificate()];
    return $q.all(promises).then(function() {
      basic.signUp(ctrl.signUpInf).then(function(res) {
        if (res.success_message !== undefined) {
          $scope.addAlert("success", "\u6ce8\u518c\u6210\u529f\uff0c3\u79d2\u949f\u540e\u8df3\u8f6c\u5230\u767b\u9646\u9875\u9762\uff01");
          ctrl.signUpInf = {};
          $timeout(function() {
            $window.location.href = "/manufactory/open";
          }, 3E3);
        } else {
          ctrl.captcha_click();
          $scope.addAlert("danger", res.error_message.faultstring);
        }
      }, function(error) {
        $scope.addAlert("danger", error.error_message.faultstring);
      });
    });
  };
  ctrl.checkUserName = function() {
    var node = document.getElementById("user_name_group");
    var helper = document.getElementById("user_name_helper");
    if (ctrl.signUpInf.login_name != null) {
      node.className = "form-group has-success";
      helper.innerHTML = "\u5df2\u586b";
    } else {
      node.className = "form-group has-error";
      helper.innerHTML = "\u5fc5\u586b";
    }
  };
  ctrl.checkPassword = function() {
    var node = document.getElementById("password_group");
    var helper = document.getElementById("password_helper");
    if (ctrl.password != null) {
      node.className = "form-group has-success";
      helper.innerHTML = "\u5df2\u586b";
    } else {
      node.className = "form-group has-error";
      helper.innerHTML = "\u5fc5\u586b";
    }
  };
  ctrl.checkPasswordRepeat = function() {
    var node = document.getElementById("password_repeat_group");
    var helper = document.getElementById("password_repeat_helper");
    if (ctrl.confirm_password != null) {
      node.className = "form-group has-success";
      helper.innerHTML = "\u5df2\u586b";
    } else {
      node.className = "form-group has-error";
      helper.innerHTML = "\u5fc5\u586b";
    }
    if (ctrl.confirm_password != ctrl.password) {
      node.className = "form-group has-error";
      helper.innerHTML = "\u5bc6\u7801\u4e0d\u4e00\u81f4";
    }
  };
  ctrl.checkContactorName = function() {
    var node = document.getElementById("contactor_name_group");
    var helper = document.getElementById("contactor_name_helper");
    if (ctrl.signUpInf.contactor != null) {
      node.className = "form-group has-success";
      helper.innerHTML = "\u5df2\u586b";
    } else {
      node.className = "form-group has-error";
      helper.innerHTML = "\u5fc5\u586b";
    }
  };
  ctrl.checkDepartment = function() {
    var node = document.getElementById("department_group");
    var helper = document.getElementById("department_helper");
    if (ctrl.company_department.selected != null) {
      node.className = "form-group has-success";
      helper.innerHTML = "\u5df2\u586b";
    } else {
      node.className = "form-group has-error";
      helper.innerHTML = "\u5fc5\u586b";
    }
  };
  ctrl.checkTelephone = function() {
    var node = document.getElementById("telephone_group");
    var helper = document.getElementById("telephone_helper");
    if (ctrl.signUpInf.telephone != null) {
      node.className = "form-group has-success";
      helper.innerHTML = "\u5df2\u586b";
    } else {
      node.className = "form-group has-error";
      helper.innerHTML = "\u5fc5\u586b";
    }
  };
  ctrl.checkMobile = function() {
    var node = document.getElementById("mobile_group");
    var helper = document.getElementById("mobile_helper");
    if (ctrl.signUpInf.phone != null) {
      node.className = "form-group has-success";
      helper.innerHTML = "\u5df2\u586b";
    } else {
      node.className = "form-group has-error";
      helper.innerHTML = "\u5fc5\u586b";
    }
  };
  ctrl.checkCompanyName = function() {
    var node = document.getElementById("company_name_group");
    var helper = document.getElementById("company_name_helper");
    if (ctrl.signUpInf.full_name != null) {
      node.className = "form-group has-success";
      helper.innerHTML = "\u5df2\u586b";
    } else {
      node.className = "form-group has-error";
      helper.innerHTML = "\u5fc5\u586b";
    }
  };
  ctrl.checkCompanyCode = function() {
    var node = document.getElementById("company_code_group");
    var helper = document.getElementById("company_code_helper");
    if (ctrl.signUpInf.code != null) {
      node.className = "form-group has-success";
      helper.innerHTML = "\u5df2\u586b";
    } else {
      node.className = "form-group has-error";
      helper.innerHTML = "\u5fc5\u586b";
    }
  };
  ctrl.checkDistrict = function() {
    var node = document.getElementById("district_group");
    var helper = document.getElementById("district_helper");
    if (ctrl.province.selected != null && ctrl.city.selected != null && ctrl.county.selected != null) {
      node.className = "form-group has-success";
      helper.innerHTML = "\u5df2\u586b";
    } else {
      node.className = "form-group has-error";
      helper.innerHTML = "\u5fc5\u586b";
    }
  };
  ctrl.checkAddress = function() {
    var node = document.getElementById("address_group");
    var helper = document.getElementById("address_helper");
    if (ctrl.signUpInf.address != null) {
      node.className = "form-group has-success";
      helper.innerHTML = "\u5df2\u586b";
    } else {
      node.className = "form-group has-error";
      helper.innerHTML = "\u5fc5\u586b";
    }
  };
  ctrl.checkDevices = function() {
    var node = document.getElementById("devices_group");
    var helper = document.getElementById("devices_helper");
    if (ctrl.device_types_selected != null && ctrl.device_types_selected.length != 0) {
      node.className = "form-group has-success";
      helper.innerHTML = "\u5df2\u586b";
    } else {
      node.className = "form-group has-error";
      helper.innerHTML = "\u5fc5\u586b";
    }
  };
  ctrl.checkCaptcha = function() {
    var node = document.getElementById("captcha_group");
    var helper = document.getElementById("captcha_helper");
    if (ctrl.signUpInf.captcha != null) {
      node.className = "form-group has-success";
      helper.innerHTML = "\u5df2\u586b";
    } else {
      node.className = "form-group has-error";
      helper.innerHTML = "\u5fc5\u586b";
    }
  };
  ctrl.checkBusinessLicence = function() {
    var node = document.getElementById("business_licence_group");
    var helper = document.getElementById("business_licence_helper");
    if (ctrl.signUpInf.business_licence != null) {
      node.className = "form-group has-success";
      helper.innerHTML = "\u5df2\u586b";
    } else {
      node.className = "form-group has-error";
      helper.innerHTML = "\u5fc5\u586b";
    }
  };
  function isMobileOrTell(str) {
    var mobile = /^1\d{10}$/;
    var tel = /^0\d{2,3}-?\d{7,8}$/;
    if (mobile.test(str) || tel.test(str)) {
      return true;
    }
    return false;
  }
  function isMobile(str) {
    var mobile = /^1\d{10}$/;
    if (mobile.test(str)) {
      return true;
    }
    return false;
  }
  function isTelephone(str) {
    var tel = /^0\d{2,3}-?\d{7,8}$/;
    if (tel.test(str)) {
      return true;
    }
    return false;
  }
  $scope.alerts = [];
  $scope.addAlert = function(type, msg) {
    var alert = {"type":type, "msg":msg};
    $scope.alerts.push(alert);
    $timeout(function() {
      $scope.closeAlert($scope.alerts.indexOf(alert));
    }, 3E3);
  };
  $scope.closeAlert = function(index) {
    $scope.alerts.splice(index, 1);
  };
  $scope.clearAlerts = function() {
    $scope.alerts = [];
  };
  function validParam(param) {
    if (param != undefined && param != null && param != "") {
      return true;
    }
    return false;
  }
  function validPic(file, str) {
    if (file != undefined && file.type != undefined && str != undefined && str != "" && str.length != 0) {
      var suffixs = str.split("|");
      var fileSuf = file.type.split("/");
      var res = suffixs.filter(function(item) {
        return item == fileSuf[1];
      });
      if (res.length != 0) {
        return true;
      }
      return false;
    }
  }
};
goog.provide("jxmnfopn.sign_up.module");
goog.require("jxmnfopn.sign_up.Ctrl");
jxmnfopn.sign_up.module = angular.module("sign_up", ["ui.router", "ui.select", "ui.bootstrap", "ngSanitize", "angular-md5"]);
jxmnfopn.sign_up.module.configuration = function($stateProvider) {
  $stateProvider.state("sign_up", {url:"/sign_up", templateUrl:"states/sign_up/sign_up.html", controller:"SignUpCtrl as signUp", resolve:{"COMPANYDEPARTMENTSPromise":function(constants) {
    return constants.COMPANYDEPARTMENTSPromise;
  }, "DATATYPESPromise":function(constants) {
    return constants.DATATYPESPromise;
  }, "COMPANYMEMBERSPromise":function(constants) {
    return constants.COMPANYMEMBERSPromise;
  }, "COMPANYNATURESPromise":function(constants) {
    return constants.COMPANYNATURESPromise;
  }, "COMPANYINDUSTRIESPromise":function(constants) {
    return constants.COMPANYINDUSTRIESPromise;
  }, "PROVINCESPromise":function(constants) {
    return constants.PROVINCESPromise;
  }, "CITIESPromise":function(constants) {
    return constants.CITIESPromise;
  }, "ZONESPromise":function(constants) {
    return constants.ZONESPromise;
  }}});
};
jxmnfopn.sign_up.module.config(jxmnfopn.sign_up.module.configuration).controller("SignUpCtrl", jxmnfopn.sign_up.Ctrl);
goog.provide("jxmnfopn.fileModel.Directive.factory");
jxmnfopn.fileModel.Directive = function($parse) {
  this.parse = $parse;
  this.link = this.link.bind(this);
  this.scope;
  this.elem;
  this.attrs;
};
jxmnfopn.fileModel.Directive.factory = function($parse) {
  var dir = new jxmnfopn.fileModel.Directive($parse);
  return {link:dir.link};
};
jxmnfopn.fileModel.Directive.prototype.link = function(scope, elem, attrs) {
  this.scope = scope;
  this.elem = elem;
  this.attrs = attrs;
  this.restrict = "A";
  var model = this.parse(attrs.fileModel);
  var modelSetter = model.assign;
  elem.bind("change", function() {
    scope.$apply(function() {
      modelSetter(scope, elem[0].files[0]);
    });
  });
};
goog.provide("jxmnfopn.version.Directive.factory");
jxmnfopn.version.Directive = function(version) {
  this.version = version;
  this.link = this.link.bind(this);
  this.scope;
  this.elem;
  this.attrs;
};
jxmnfopn.version.Directive.factory = function(version) {
  var dir = new jxmnfopn.version.Directive(version);
  return {link:dir.link};
};
jxmnfopn.version.Directive.prototype.link = function(scope, elem, attrs) {
  this.scope = scope;
  this.elem = elem;
  this.attrs = attrs;
  this.elem.text(this.version.get());
};
goog.provide("jxmnfopn.constants.Factory");
jxmnfopn.constants.Factory.$inject = ["rootScope", "$http", "$q"];
jxmnfopn.constants.Factory = function($rootScope, $http, $q) {
  function getConstants(req) {
    req.url = $rootScope.endPoint + req.url;
    return $http(req).then(success).catch(fail);
    function success(response) {
      return response.data.success_message;
    }
    function fail(error) {
      return $q.reject("rejected");
    }
  }
  var PROVINCES = [];
  var PROVINCESPromise = getProvinces().then(function(data) {
    PROVINCES = data.provinces;
  }, function(data) {
    PROVINCES = [];
  });
  function getProvinces() {
    var req = {method:"GET", url:"/common/constants/provinces"};
    return getConstants(req);
  }
  function gotPROVINCES() {
    return PROVINCES;
  }
  var CITIES = [];
  var CITIESPromise = getCities().then(function(data) {
    CITIES = data.cities;
  }, function(data) {
    CITIES = [];
  });
  function getCities() {
    var req = {method:"GET", url:"/common/constants/cities"};
    return getConstants(req);
  }
  function gotCITIES() {
    return CITIES;
  }
  var ZONES = [];
  var ZONESPromise = getZones().then(function(data) {
    ZONES = data.zones;
  }, function(data) {
    ZONES = [];
  });
  function getZones() {
    var req = {method:"GET", url:"/common/constants/zones"};
    return getConstants(req);
  }
  function gotZONES() {
    return ZONES;
  }
  var DEVICETYPES = [];
  var DEVICETYPESPromise = getDeviceTypes().then(function(data) {
    DEVICETYPES = data.device_types;
  }, function(data) {
    DEVICETYPES = [];
  });
  function getDeviceTypes() {
    var req = {method:"GET", url:"/common/constants/device_types"};
    return getConstants(req);
  }
  function gotDEVICETYPES() {
    return DEVICETYPES;
  }
  var COMPANYDEPARTMENTS = [];
  var COMPANYDEPARTMENTSPromise = getCompanyDepartments().then(function(data) {
    COMPANYDEPARTMENTS = data.departments;
  }, function(data) {
    COMPANYDEPARTMENTS = [];
  });
  function getCompanyDepartments() {
    var req = {method:"GET", url:"/common/constants/company_departments"};
    return getConstants(req);
  }
  function gotCOMPANYDEPARTMENTS() {
    return COMPANYDEPARTMENTS;
  }
  var COMPANYMEMBERS = [];
  var COMPANYMEMBERSPromise = getCompanyMembers().then(function(data) {
    COMPANYMEMBERS = data.members;
  }, function(data) {
    COMPANYMEMBERS = [];
  });
  function getCompanyMembers() {
    var req = {method:"GET", url:"/common/constants/company_members"};
    return getConstants(req);
  }
  function gotCOMPANYMEMBERS() {
    return COMPANYMEMBERS;
  }
  var COMPANYNATURES = [];
  var COMPANYNATURESPromise = getCompanyNatures().then(function(data) {
    COMPANYNATURES = data.natures;
  }, function(data) {
    COMPANYNATURES = [];
  });
  function getCompanyNatures() {
    var req = {method:"GET", url:"/common/constants/company_natures"};
    return getConstants(req);
  }
  function gotCOMPANYNATURES() {
    return COMPANYNATURES;
  }
  var COMPANYINDUSTRIES = [];
  var COMPANYINDUSTRIESPromise = getCompanyIndustries().then(function(data) {
    COMPANYINDUSTRIES = data.industries;
  }, function(data) {
    COMPANYINDUSTRIES = [];
  });
  function getCompanyIndustries() {
    var req = {method:"GET", url:"/common/constants/company_industries"};
    return getConstants(req);
  }
  function gotCOMPANYINDUSTRIES() {
    return COMPANYINDUSTRIES;
  }
  var service = {getConstants:getConstants, getProvinces:getProvinces, gotPROVINCES:gotPROVINCES, PROVINCESPromise:PROVINCESPromise, getCities:getCities, gotCITIES:gotCITIES, CITIESPromise:CITIESPromise, getZones:getZones, gotZONES:gotZONES, ZONESPromise:ZONESPromise, getDeviceTypes:getDeviceTypes, gotDEVICETYPES:gotDEVICETYPES, DEVICETYPESPromise:DEVICETYPESPromise, getCompanyDepartments:getCompanyDepartments, gotCOMPANYDEPARTMENTS:gotCOMPANYDEPARTMENTS, COMPANYDEPARTMENTSPromise:COMPANYDEPARTMENTSPromise, 
  getCompanyMembers:getCompanyMembers, gotCOMPANYMEMBERS:gotCOMPANYMEMBERS, COMPANYMEMBERSPromise:COMPANYMEMBERSPromise, getCompanyNatures:getCompanyNatures, gotCOMPANYNATURES:gotCOMPANYNATURES, COMPANYNATURESPromise:COMPANYNATURESPromise, getCompanyIndustries:getCompanyIndustries, gotCOMPANYINDUSTRIES:gotCOMPANYINDUSTRIES, COMPANYINDUSTRIESPromise:COMPANYINDUSTRIESPromise};
  return service;
};
goog.provide("jxmnfopn.check.Filter.factory");
jxmnfopn.check.Filter = function() {
  this.checkmark = "\u2714";
  this.cross = "\u2718";
  this.convert = this.convert.bind(this);
};
jxmnfopn.check.Filter.factory = function() {
  var filter = new jxmnfopn.check.Filter;
  return filter.convert;
};
jxmnfopn.check.Filter.prototype.convert = function(input) {
  return input ? this.checkmark : this.cross;
};
goog.provide("jxmnfopn.basic.Service");
jxmnfopn.basic.Service.$inject = ["$rootScope", "$http", "$q"];
jxmnfopn.basic.Service = function($rootScope, $http, $q) {
  var basic = this;
  basic.signIn = function(rbody) {
    var defer = $q.defer();
    var req = {method:"POST", url:$rootScope.endPoint + "/manufactories/sign_in", data:rbody};
    $http(req).success(function(res) {
      defer.resolve(res);
    }).error(function(err, status) {
      defer.reject(err);
    });
    return defer.promise;
  };
  basic.verificationCode = function(rbody) {
    var defer = $q.defer();
    var req = {method:"GET", url:$rootScope.endPoint + "/common/verification_code", params:rbody};
    $http(req).success(function(res) {
      defer.resolve(res);
    }).error(function(err, status) {
      defer.reject(err);
    });
    return defer.promise;
  };
  basic.resetPassword = function(rbody) {
    var defer = $q.defer();
    var req = {method:"POST", url:$rootScope.endPoint + "/manufactories/reset_password", data:rbody};
    $http(req).success(function(res) {
      defer.resolve(res);
    }).error(function(err, status) {
      defer.reject(err);
    });
    return defer.promise;
  };
  basic.signUp = function(rbody) {
    var defer = $q.defer();
    var req = {method:"POST", url:$rootScope.endPoint + "/manufactories/sign_up", data:rbody};
    $http(req).success(function(res) {
      defer.resolve(res);
    }).error(function(err, status) {
      defer.reject(err);
    });
    return defer.promise;
  };
  basic.fileUpload = function(file) {
    var defer = $q.defer();
    if (file == undefined || file == null || file == "") {
      return null;
    }
    var uploadUrl = $rootScope.endPoint + "/common/uploads";
    var fd = new FormData;
    fd.append("files", file);
    $http.post(uploadUrl, fd, {transformRequest:angular.identity, headers:{"Content-Type":undefined}}).success(function(succ) {
      defer.resolve(succ);
    }).error(function(error) {
      defer.resolve(error);
    });
    return defer.promise;
  };
  return basic;
};
goog.provide("jxmnfopn.version.Service");
jxmnfopn.version.Service = function() {
  this.version = "0.0.1";
};
jxmnfopn.version.Service.prototype.get = function() {
  return this.version;
};
goog.require("jxmnfopn.panel.module");
goog.require("jxmnfopn.sign_up.module");
goog.require("jxmnfopn.version.Directive.factory");
goog.require("jxmnfopn.fileModel.Directive.factory");
goog.require("jxmnfopn.version.Service");
goog.require("jxmnfopn.check.Filter.factory");
goog.require("jxmnfopn.basic.Service");
goog.require("jxmnfopn.constants.Factory");
function config($stateProvider, $urlRouterProvider, $locationProvider, $httpProvider) {
  $urlRouterProvider.otherwise("/panel/sign_in");
  $httpProvider.defaults.withCredentials = true;
  if (!$httpProvider.defaults.headers.get) {
    $httpProvider.defaults.headers.get = {};
  }
  $httpProvider.defaults.headers.get["If-Modified-Since"] = "Mon, 26 Jul 1997 05:00:00 GMT";
  $httpProvider.defaults.headers.get["Cache-Control"] = "no-cache";
  $httpProvider.defaults.headers.get["Pragma"] = "no-cache";
  $httpProvider.defaults.withCredentials = true;
  $httpProvider.interceptors.push(function($q, $location) {
    return {response:function(response) {
      return response;
    }, responseError:function(response) {
      if (response.status === 401) {
        $location.url("/panel/sign_in");
      }
      return $q.reject(response);
    }};
  });
}
var onChangeConfig = ["$rootScope", "$state", function($rootScope, $state) {
  $rootScope.$on("$stateChangeStart", function(event, toState) {
    if (toState.name === "panel") {
      event.preventDefault();
      $state.go("panel.sign_in", {});
    }
  });
}];
var endPointConfig = ["$rootScope", function($rootScope, $state) {
  $rootScope.endPoint = "";
}];
angular.module("app", ["ui.router", "ngResource", jxmnfopn.panel.module.name, jxmnfopn.sign_up.module.name]).config(config).run(onChangeConfig).run(endPointConfig).directive("version", jxmnfopn.version.Directive.factory).directive("fileModel", jxmnfopn.fileModel.Directive.factory).service("version", jxmnfopn.version.Service).filter("check", jxmnfopn.check.Filter.factory).service("basic", jxmnfopn.basic.Service).factory("constants", jxmnfopn.constants.Factory);

